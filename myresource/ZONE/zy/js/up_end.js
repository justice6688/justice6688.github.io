"use strict";function myPagination(e){var t=e.pageSize,a=e.pageTotal,n=e.curPage,i=e.id,l=e.getPage,s=e.showPageTotalFlag,r=e.showSkipInputFlag,g=e.pageAmount,e=e.dataTotal;this.pageSize=t||5,this.pageTotal=a,this.pageAmount=g,this.dataTotal=e,this.curPage=n||1,this.ul=document.createElement("ul"),this.id=i,this.getPage=l,this.showPageTotalFlag=s||!1,this.showSkipInputFlag=r||!1,this.init()}myPagination.prototype={init:function(){var e=document.getElementById(this.id);e.innerHTML="",this.ul.innerHTML="",e.appendChild(this.ul);var a=this;a.firstPage(),a.lastPage(),a.getPages().forEach(function(e){var t=document.createElement("li");e==a.curPage?t.className="active":t.onclick=function(){a.curPage=parseInt(this.innerHTML),a.init(),a.getPage(a.curPage)},t.innerHTML=e,a.ul.appendChild(t)}),a.nextPage(),a.finalPage(),a.showSkipInputFlag&&a.showSkipInput(),a.showPageTotalFlag&&a.showPageTotal()},firstPage:function(){var t=this,e=document.createElement("li");e.innerHTML="首页",this.ul.appendChild(e),e.onclick=function(){var e=parseInt(1);t.curPage=e,t.getPage(t.curPage),t.init()}},lastPage:function(){var e=this,t=document.createElement("li");t.innerHTML="<",1<parseInt(e.curPage)?t.onclick=function(){e.curPage=parseInt(e.curPage)-1,e.init(),e.getPage(e.curPage)}:t.className="disabled",this.ul.appendChild(t)},getPages:function(){var e=[];if(this.curPage<=this.pageTotal)if(this.curPage<this.pageSize)for(var t=Math.min(this.pageSize,this.pageTotal);t;)e.unshift(t--);else{var a=this.curPage-Math.floor(this.pageSize/2),t=this.pageSize;for(a>this.pageTotal-this.pageSize&&(a=this.pageTotal-this.pageSize+1);t--;)e.push(a++)}else console.error("当前页数不能大于总页数");return this.pageSize||console.error("显示页数不能为空或者0"),e},nextPage:function(){var e=this,t=document.createElement("li");t.innerHTML=">",parseInt(e.curPage)<parseInt(e.pageTotal)?t.onclick=function(){e.curPage=parseInt(e.curPage)+1,e.init(),e.getPage(e.curPage)}:t.className="disabled",this.ul.appendChild(t)},finalPage:function(){var t=this,e=document.createElement("li");e.innerHTML="尾页",this.ul.appendChild(e),e.onclick=function(){var e=t.pageTotal,e=parseInt(e);t.curPage=e,t.getPage(t.curPage),t.init()}},showSkipInput:function(){var t=this,e=document.createElement("li");e.className="totalPage";var a=document.createElement("span");a.innerHTML="跳转到",e.appendChild(a);a=document.createElement("input");a.setAttribute("type","number"),a.onkeydown=function(e){e=e||event;"13"==e.keyCode&&("number"==typeof(e=parseInt(e.target.value))&&e<=t.pageTotal?(t.curPage=e,t.getPage(t.curPage)):alert("跳转页数不能大于总页数 !"),t.init())},e.appendChild(a);a=document.createElement("span");a.innerHTML="页",e.appendChild(a),this.ul.appendChild(e)},showPageTotal:function(){var e=this,t=document.createElement("li");t.innerHTML="共&nbsp"+e.pageTotal+"&nbsp页",t.className="totalPage",this.ul.appendChild(t);t=document.createElement("li");t.innerHTML="每页&nbsp"+e.pageAmount+"&nbsp条",t.className="totalPage",this.ul.appendChild(t);t=document.createElement("li");t.innerHTML="合计&nbsp"+e.dataTotal+"&nbsp条数据",t.className="totalPage",this.ul.appendChild(t)}};